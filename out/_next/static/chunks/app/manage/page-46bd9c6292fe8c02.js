(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[133],{69:function(e,t,a){Promise.resolve().then(a.bind(a,5341))},5341:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var l=a(7437),s=a(2265),o=a(5095),r=a(429),n=a(3795),i=a(5804),c=a(3276),d=a(9763);let x=(0,d.Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),u=(0,d.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var m=a(7168);let h=(0,d.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var g=a(2040);function p(e){let{word:t,translation:a,initialImageUrl:o,className:r="",onImageUpdate:n}=e,[i,c]=(0,s.useState)(o||null),[d,x]=(0,s.useState)(!1),[u,p]=(0,s.useState)(!1),[f,b]=(0,s.useState)(0),y=e=>!!e&&"string"==typeof e&&(e.includes("pollinations.ai")||e.startsWith("blob:")||e.startsWith("data:image/")),w=e=>!!e&&"string"==typeof e&&e.startsWith("AI_PENDING:"),D=async()=>{x(!0),p(!1);try{console.log('\uD83C\uDFA8 为"'.concat(t,'"生成AI图片 (尝试 ').concat(f+1,")"));let e=await (0,g.P)(t);if(e.success&&e.imageUrl)console.log('\uD83D\uDD04 "'.concat(t,'" 设置新的图片URL:'),e.imageUrl.substring(0,50)+"..."),c(e.imageUrl),p(!1),b(0),x(!1),n&&n(e.imageUrl),console.log('✅ "'.concat(t,'" AI图片生成成功，UI状态已更新'));else throw Error(e.error||"AI图片生成失败")}catch(a){console.error('❌ "'.concat(t,'" AI图片生成失败:'),a),p(!0);let e=f+1;if(b(e),e<5){let a=Math.min(1e3*Math.pow(2,e),1e4);console.log('⏳ "'.concat(t,'" 将在 ').concat(a,"ms 后自动重试... (").concat(e,"/5)")),setTimeout(()=>{D()},a)}else console.error('\uD83D\uDCA5 "'.concat(t,'" 已达到最大重试次数 (').concat(e,"/5)，停止重试")),x(!1)}};return(0,s.useEffect)(()=>{console.log('\uD83D\uDD0D "'.concat(t,'" ImageWithRetry初始化检查:'),{imageUrl:i,isValidImageUrl:y(i),urlLength:(null==i?void 0:i.length)||0,urlType:i&&"string"==typeof i?i.startsWith("data:image/svg+xml")?"SVG":i.includes("pollinations.ai")?"AI":i.startsWith("blob:")?"Blob":i.startsWith("http")?"HTTP":"Other":"None"});let e=setTimeout(()=>{if(i){if(w(i))console.log('\uD83C\uDFA8 "'.concat(t,'" 检测到AI_PENDING标记，开始生成AI图片...')),D();else if("string"==typeof i&&i.startsWith("ERROR:"))console.log('\uD83D\uDD04 "'.concat(t,'" 错误占位符，重新生成...')),D();else if(y(i)){console.log('✅ "'.concat(t,'" URL有效，测试加载...'));let e=new Image;e.onload=()=>{console.log('✅ "'.concat(t,'" 现有图片加载成功')),p(!1)},e.onerror=()=>{console.warn('⚠️ "'.concat(t,'" 现有图片加载失败，将重新生成')),D()},e.src=i}else console.warn('⚠️ "'.concat(t,'" 图片URL无效，将重新生成:'),"string"==typeof i?i.substring(0,100):i),D()}else console.log('\uD83C\uDFA8 "'.concat(t,'" 没有图片，开始生成...')),D()},0);return()=>{clearTimeout(e)}},[t,i]),(0,l.jsxs)("div",{className:"relative ".concat(r),children:[d?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-full bg-blue-50 rounded-lg",children:[(0,l.jsx)(m.Z,{className:"w-8 h-8 text-blue-500 animate-spin mb-2"}),(0,l.jsx)("span",{className:"text-sm text-blue-600",children:"生成中..."}),f>0&&(0,l.jsxs)("span",{className:"text-xs text-blue-500 mt-1",children:["重试 ",f,"/5"]})]}):u||!i?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-full bg-red-50 rounded-lg border-2 border-red-200",children:[(0,l.jsx)(h,{className:"w-8 h-8 text-red-500 mb-2"}),(0,l.jsx)("span",{className:"text-sm text-red-600 mb-2",children:"生成失败"}),(0,l.jsxs)("button",{onClick:()=>{b(0),D()},className:"px-3 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600 transition-colors flex items-center gap-1",children:[(0,l.jsx)(m.Z,{className:"w-3 h-3"}),"重试"]}),f>=5&&(0,l.jsx)("span",{className:"text-xs text-red-400 mt-1",children:"已达最大重试次数"})]}):(0,l.jsx)("img",{src:i,alt:"".concat(t," - ").concat(a),className:"w-full h-full object-cover rounded-lg",onError:e=>{console.warn("⚠️ 图片加载失败: ".concat(t),{src:i,errorEvent:e}),i&&"string"==typeof i&&i.startsWith("blob:")?(console.log("\uD83D\uDD04 Blob URL加载失败，3秒后重试..."),setTimeout(()=>{c(i+"?retry="+Date.now())},3e3)):p(!0)},onLoad:()=>{console.log('✅ "'.concat(t,'" 图片加载成功:'),(null==i?void 0:i.substring(0,50))+"..."),p(!1)}}),!1]})}function f(e){let{word:t,categories:a=[],showDeleteButton:s=!1,onDelete:o,onEdit:i,onImageUpdate:c,className:d=""}=e;return(0,l.jsxs)(r.E.div,{className:"card p-6 relative group cursor-pointer h-80 flex flex-col ".concat(d," ").concat(t.isMissing?"border-2 border-dashed border-orange-300 bg-orange-50":""),whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[t.isMissing&&(0,l.jsx)("div",{className:"absolute top-2 left-2 px-2 py-1 bg-orange-200 text-orange-800 text-xs font-medium rounded-full z-30",children:"\uD83D\uDCDA 未导入"}),(0,l.jsxs)("div",{className:"absolute top-4 right-4 flex space-x-2 opacity-0 group-hover:opacity-100 transition-all duration-300 z-20",children:[i&&(0,l.jsx)(r.E.button,{onClick:e=>{e.stopPropagation(),i&&i()},className:"w-8 h-8 bg-primary-blue text-text-white rounded-standard flex items-center justify-center shadow-card hover:shadow-card-hover transition-all duration-300",title:"编辑单词",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,l.jsx)(x,{className:"w-4 h-4"})}),s&&(0,l.jsx)(r.E.button,{onClick:e=>{e.stopPropagation(),o&&window.confirm("确定要删除【".concat(t.word,"】吗？"))&&o()},className:"w-8 h-8 bg-red-500 text-text-white rounded-standard flex items-center justify-center shadow-card hover:shadow-card-hover transition-all duration-300",title:"删除单词",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,l.jsx)(u,{className:"w-4 h-4"})})]}),(0,l.jsx)("div",{className:"flex justify-center mb-4 flex-shrink-0",children:(0,l.jsx)(r.E.div,{className:"w-24 h-24 rounded-standard overflow-hidden shadow-card",whileHover:{scale:1.05},children:(0,l.jsx)(p,{word:t.word,translation:t.translation,initialImageUrl:t.imageUrl,className:"w-full h-full",onImageUpdate:async e=>{console.log('\uD83D\uDCF8 "'.concat(t.word,'" 图片已更新:'),e);let a={...t,imageUrl:e,updatedAt:Date.now()};c&&c(a,e);try{await (0,n.updateWord)(a),console.log('✅ "'.concat(t.word,'" 图片URL已保存到数据库'))}catch(e){console.warn('⚠️ 保存"'.concat(t.word,'"图片URL失败（UI已更新）:'),e)}}})})}),(0,l.jsxs)("div",{className:"text-center flex-1 flex flex-col justify-between space-y-3",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h3",{className:"text-small-title font-inter text-text-dark font-bold",children:t.word}),(0,l.jsx)("p",{className:"text-body font-roboto text-text-dark font-medium",children:t.translation})]}),(0,l.jsx)("div",{className:"px-2 flex-1 flex items-center justify-center min-h-[60px]",children:!1})]}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2 justify-center mt-auto flex-shrink-0",children:(t.categories||["uncategorized"]).map((e,t)=>{let s=a.find(t=>t.id===e),o=(null==s?void 0:s.name)||({uncategorized:"未归类",food:"食物",animals:"动物",family:"家人",actions:"动作",school:"学校",nature:"自然"})[e]||e;return(0,l.jsx)(r.E.span,{className:"category-tag",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.1*t},children:o},e)})})]})}let b=(0,d.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);function y(e){let{word:t,isOpen:a,onClose:n,onSave:c}=e,[d,x]=(0,s.useState)(t),[u,m]=(0,s.useState)(""),[g,p]=(0,s.useState)([]);(0,s.useEffect)(()=>{p((0,i.CP)())},[a]);let f=e=>{let t=d.categories.includes(e)?d.categories.filter(t=>t!==e):[...d.categories,e];x({...d,categories:t})},y=()=>{u.trim()&&!d.categories.includes(u.trim())&&(x({...d,categories:[...d.categories,u.trim()]}),m(""))},w=e=>({uncategorized:"未归类",food:"食物",animals:"动物",family:"家人",actions:"动作",school:"学校",nature:"自然"})[e]||e;return(0,l.jsx)(o.M,{children:a&&(0,l.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:n,children:(0,l.jsxs)(r.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl p-6 w-full max-w-md max-h-[80vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"编辑单词"}),(0,l.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,l.jsx)(h,{className:"w-5 h-5"})})]}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:t.word}),(0,l.jsx)("p",{className:"text-gray-600",children:t.translation}),t.example&&(0,l.jsxs)("p",{className:"text-sm text-gray-500 italic mt-2",children:["“",t.example,"”"]})]})}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:["选择分类 ",(0,l.jsx)("span",{className:"text-xs text-gray-500",children:"(可选择多个)"})]}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:g.filter(e=>"all"!==e.id).map(e=>(0,l.jsxs)("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:d.categories.includes(e.id),onChange:()=>f(e.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),(0,l.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:e.name})]},e.id))}),(0,l.jsxs)("div",{className:"border-t pt-4",children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"添加自定义分类"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"text",value:u,onChange:e=>m(e.target.value),placeholder:"输入分类名称",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",onKeyPress:e=>"Enter"===e.key&&y()}),(0,l.jsx)("button",{onClick:y,disabled:!u.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-sm font-medium",children:"添加"})]})]}),d.categories.some(e=>!g.find(t=>t.id===e))&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"自定义分类"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:d.categories.filter(e=>!g.find(t=>t.id===e)).map(e=>(0,l.jsxs)("div",{className:"flex items-center bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[(0,l.jsx)("span",{children:e}),(0,l.jsx)("button",{onClick:()=>f(e),className:"ml-2 hover:text-blue-600",children:(0,l.jsx)(h,{className:"w-3 h-3"})})]},e))})]})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"当前分类"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[d.categories.map(e=>(0,l.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:w(e)},e)),0===d.categories.length&&(0,l.jsx)("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm",children:"将自动归入“未归类”"})]})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"取消"}),(0,l.jsxs)("button",{onClick:()=>{let e=d.categories.length>0?d.categories:["uncategorized"];c({...d,categories:e}),n()},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2",children:[(0,l.jsx)(b,{className:"w-4 h-4"}),"保存"]})]})]})})})}var w=a(1344);function D(){var e;let[t,a]=(0,s.useState)([]),[d,x]=(0,s.useState)([]),[u,m]=(0,s.useState)("all"),[h,g]=(0,s.useState)("all"),[p,b]=(0,s.useState)(""),[D,j]=(0,s.useState)(null),[v,N]=(0,s.useState)(0),[k,C]=(0,s.useState)(0),[A,E]=(0,s.useState)([]),[S,I]=(0,s.useState)([]),[U,L]=(0,s.useState)([]),[M]=(0,s.useState)(()=>c.q.getInstance());(0,s.useEffect)(()=>{R(),E((0,i.CP)()),I(M.getAllWordbanks())},[]),(0,s.useEffect)(()=>{if("all"===h)L(A);else{let e=S.find(e=>e.id===h);if(e&&e.categories){let t=e.categories.map(e=>A.find(t=>t.name===e)).filter(Boolean);L(t),console.log("\uD83D\uDCC1 词库分类筛选:",e.name,"包含分类:",t.map(e=>e.name))}else L([])}m("all")},[h,S,A]);let W=async()=>{console.log("\uD83D\uDD04 手动刷新词汇数据..."),await R(),E((0,i.CP)())},P=(e,t)=>{console.log('\uD83D\uDD04 更新UI中的"'.concat(e.word,'"图片')),a(t=>t.map(t=>t.id===e.id?e:t)),x(t=>t.map(t=>t.id===e.id?e:t))};(0,s.useEffect)(()=>{(async()=>{try{console.log("\uD83D\uDD0D 开始筛选:",{selectedWordbank:h,selectedCategory:u,searchQuery:p});let t=await (0,n.getAllWords)();if(console.log("\uD83D\uDCCA 数据库总单词数:",t.length),"all"!==h){var e;console.log("\uD83C\uDFAF 按词库筛选:",h);let a=S.find(e=>e.id===h);if(console.log("\uD83D\uDCDA 找到词库:",null==a?void 0:a.name,"包含",null==a?void 0:null===(e=a.words)||void 0===e?void 0:e.length,"个单词"),a&&a.words){let e=a.words.map(e=>e.word.toLowerCase());console.log("\uD83D\uDCDD 词库单词列表:",e.slice(0,5),"...");let l=t.filter(t=>{let a=e.includes(t.word.toLowerCase());return a&&console.log("✅ 数据库单词匹配:",t.word),a}),s=e.filter(e=>!t.some(t=>t.word.toLowerCase()===e));console.log("\uD83D\uDCCA 数据库匹配单词:",l.length,"个"),console.log("⚠️ 词库中缺失的单词:",s.length,"个");let o=s.map(e=>{let t=a.words.find(t=>t.word.toLowerCase()===e);return{id:"missing-".concat(e),word:(null==t?void 0:t.word)||e,translation:(null==t?void 0:t.translation)||"翻译_".concat(e),example:(null==t?void 0:t.example)||"",categories:(null==t?void 0:t.category)?[t.category]:["uncategorized"],imageUrl:"",createdAt:Date.now(),updatedAt:Date.now(),reviewCount:0,isMissing:!0}});t=[...l,...o],console.log("\uD83D\uDCDD 词库筛选后总数:",t.length)}}let a=t;if("all"!==u&&(console.log("\uD83D\uDCC1 按分类筛选:",u),a=a.filter(e=>e.categories&&e.categories.includes(u)),console.log("\uD83D\uDCCA 分类筛选后:",a.length,"个单词")),p.trim()){console.log("\uD83D\uDD0D 按关键词搜索:",p);let e=p.toLowerCase();a=a.filter(t=>t.word.toLowerCase().includes(e)||t.translation.toLowerCase().includes(e)||t.example&&t.example.toLowerCase().includes(e)),console.log("\uD83D\uDCCA 搜索筛选后:",a.length,"个单词")}console.log("\uD83D\uDCCA 最终筛选结果:",a.length,"个单词"),x(a),C(a.length)}catch(e){console.error("❌ 搜索失败:",e),x([]),C(0)}})()},[p,u,h,t,S]);let R=async()=>{try{let e=await (0,n.getAllWords)();a(e),N(e.length)}catch(e){console.error("❌ 加载单词失败:",e),a([]),N(0)}},T=e=>{m(e)},z=e=>{console.log("\uD83C\uDFAF 选择词库:",e),g(e)},Z=async e=>{try{console.log("\uD83D\uDDD1️ 用户请求删除单词 ID: ".concat(e)),await (0,n.x8)(e),console.log("✅ 删除成功，重新加载数据"),await R()}catch(e){console.error("❌ 删除单词失败:",e),alert("删除失败: ".concat(e instanceof Error?e.message:"未知错误"))}},_=e=>{j(e)},F=async e=>{try{console.log("✏️ 用户请求更新单词: ".concat(e.word)),await (0,n.updateWord)(e),console.log("✅ 更新成功，关闭编辑模态框"),j(null),await R()}catch(e){console.error("❌ 更新单词失败:",e),alert("更新失败: ".concat(e instanceof Error?e.message:"未知错误"))}};return(0,l.jsxs)("div",{className:"min-h-screen bg-bg-cream pb-20 px-4 py-8",children:[(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsxs)("div",{className:"text-center section-spacing",children:[(0,l.jsx)("h1",{className:"text-large-title font-inter mb-4",children:"词汇管理"}),(0,l.jsxs)("div",{className:"module-pink rounded-standard p-4 inline-block",children:[(0,l.jsx)("span",{className:"text-body font-roboto font-medium text-text-dark",children:"all"!==h||"all"!==u||p?"显示 ".concat(k," 个单词"):"已有 ".concat(v," 个单词")}),("all"!==h||"all"!==u||p)&&(0,l.jsxs)("div",{className:"text-xs text-text-gray mt-1",children:["共 ",v," 个单词"]})]})]}),(0,l.jsxs)("div",{className:"card p-6 module-spacing",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("p",{className:"text-small font-roboto font-medium text-text-dark",children:"按词库筛选"}),(0,l.jsx)("button",{onClick:W,className:"px-3 py-1 bg-primary-blue text-white rounded text-xs hover:bg-blue-600 transition-colors",children:"\uD83D\uDD04 刷新数据"})]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3 overflow-x-auto pb-2",children:[(0,l.jsx)("button",{onClick:()=>z("all"),className:"px-4 py-2 rounded-standard font-roboto font-medium text-small whitespace-nowrap transition-all duration-300 ".concat("all"===h?"bg-accent-yellow text-text-dark shadow-card transform -translate-y-1":"bg-white border border-border-gray text-text-dark hover:bg-primary-blue hover:text-text-white"),children:"全部"}),S.map(e=>(0,l.jsx)("button",{onClick:()=>z(e.id),className:"px-4 py-2 rounded-standard font-roboto font-medium text-small whitespace-nowrap transition-all duration-300 ".concat(h===e.id?"bg-accent-yellow text-text-dark shadow-card transform -translate-y-1":"bg-white border border-border-gray text-text-dark hover:bg-primary-blue hover:text-text-white"),children:e.name},e.id))]})]}),"all"!==h&&U.length>0&&(0,l.jsxs)("div",{className:"card p-6 module-spacing",children:[(0,l.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,l.jsxs)("p",{className:"text-small font-roboto font-medium text-text-dark",children:["按分类筛选",(0,l.jsxs)("span",{className:"text-xs text-text-gray ml-2",children:["(",null===(e=S.find(e=>e.id===h))||void 0===e?void 0:e.name,")"]})]})}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3 overflow-x-auto pb-2",children:[(0,l.jsx)("button",{onClick:()=>T("all"),className:"px-4 py-2 rounded-standard font-roboto font-medium text-small whitespace-nowrap transition-all duration-300 ".concat("all"===u?"bg-accent-yellow text-text-dark shadow-card transform -translate-y-1":"bg-white border border-border-gray text-text-dark hover:bg-primary-blue hover:text-text-white"),children:"全部"}),U.map(e=>(0,l.jsx)("button",{onClick:()=>T(e.id),className:"px-4 py-2 rounded-standard font-roboto font-medium text-small whitespace-nowrap transition-all duration-300 ".concat(u===e.id?"bg-accent-yellow text-text-dark shadow-card transform -translate-y-1":"bg-white border border-border-gray text-text-dark hover:bg-primary-blue hover:text-text-white"),children:e.name},e.id))]})]}),(0,l.jsx)("div",{className:"card p-6 module-spacing",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-text-dark/50 text-lg",children:"\uD83D\uDD0D"}),(0,l.jsx)("input",{type:"text",value:p,onChange:e=>b(e.target.value),placeholder:"搜索单词或中文意思...",className:"w-full pl-12"})]})}),(0,l.jsx)(o.M,{children:d.length>0?(0,l.jsx)(r.E.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.map((e,t)=>(0,l.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05*t},className:"group",children:(0,l.jsx)(f,{word:e,categories:A,showDeleteButton:!0,onDelete:()=>Z(e.id),onEdit:()=>_(e),onImageUpdate:P})},e.id))}):(0,l.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[(0,l.jsx)("div",{className:"w-32 h-32 bg-gradient-blue rounded-3xl flex items-center justify-center text-6xl mx-auto mb-6 shadow-card",children:p?"\uD83D\uDD0D":"\uD83D\uDCDA"}),(0,l.jsx)("h3",{className:"text-2xl font-fredoka font-bold text-text-dark mb-4",children:p?"未找到相关单词":"该分类暂无单词"}),(0,l.jsx)("p",{className:"text-text-gray font-nunito text-lg",children:p?"试试其他关键词":"可先添加一些单词哦！"}),!p&&(0,l.jsx)("button",{onClick:()=>window.location.href="/",className:"mt-6 px-8 py-4 bg-gradient-orange text-white rounded-2xl font-fredoka font-semibold hover:shadow-orange-hover hover:-translate-y-1 transition-all duration-200",children:"现在添加"})]})})]}),(0,l.jsx)(w.Z,{}),D&&(0,l.jsx)(y,{word:D,isOpen:!0,onClose:()=>{j(null)},onSave:F})]})}},7168:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});let l=(0,a(9763).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}},function(e){e.O(0,[49,787,971,117,744],function(){return e(e.s=69)}),_N_E=e.O()}]);